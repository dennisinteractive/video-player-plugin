!function(){function t(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function e(t){var e=document.body,n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return n.name}function n(){return"complete"===document.readyState||"interactive"===document.readyState}this.Player=function(){var e={videoId:null,playerClass:"custom-player",width:480,height:270,autoPlay:null,controls:null,relatedVideos:0,showInfo:null,playBtn:null,playBtnClass:"play-btn",playBtnText:"Play",pauseBtn:null,pauseBtnClass:"pause-btn",pauseBtnText:"Pause",mute:null,placement:null,videoContainer:null,onStateChange:null,responsive:null};arguments[0]&&"object"==typeof arguments[0]&&(this.options=t(e,arguments[0])),n()?this.init():document.addEventListener("DOMContentLoaded",this.init.bind(this),!1)},Player.prototype.init=function(){var t;this.options.element?(t="exists",this.video=this.videoExists()):(t="generate",this.video=this.videoGenerate()),this.appendYTDiv(),(this.options.playBtn||this.options.pauseBtn)&&(this.video=this.customControls(t)),this.appendVideo(t),this.YTGenerate(),this.assignListeners()},Player.prototype.appendYTDiv=function(){this.options.videoContainer?this.youtubeDiv=this.video.querySelector(this.options.videoContainer):(this.youtubeDiv=document.createElement("div"),this.video.appendChild(this.youtubeDiv))},Player.prototype.YTGenerate=function(){var t=this,e=t.options,n=function(){t.player=new YT.Player(this.youtubeDiv,{videoId:e.videoId,height:e.height,width:e.width,playerVars:{autoplay:e.autoPlay,controls:e.controls,rel:e.relatedVideos,showinfo:e.showInfo},events:{onReady:t._onPlayerReady.bind(this),onStateChange:t._onStateChange.bind(this)}})}.bind(this);if("YT"in window)if(0===window.YT.loaded){var i=window.onYouTubePlayerAPIReady;window.onYouTubePlayerAPIReady=function(){i(),n()}}else n();else{window.YT={loaded:0},window.onYouTubePlayerAPIReady=function(){n()};var o=document.createElement("script"),s=document.getElementsByTagName("script")[0];o.src="https://www.youtube.com/iframe_api",s.parentNode.insertBefore(o,s)}},Player.prototype.customControls=function(t){if(this.options.playBtn.nodeName?this.playBtn=this.playBtnExists():this.playBtn=this.playBtnGenerate(),this.options.pauseBtn.nodeName?this.pauseBtn=this.pauseBtnExists():this.pauseBtn=this.pauseBtnGenerate(),this.options.playBtn||this.options.pauseBtn){var e=document.createElement("div");e.className="custom-controls",this.playBtn&&e.appendChild(this.playBtn),this.pauseBtn&&e.appendChild(this.pauseBtn),this.video.appendChild(e)}return this.video},Player.prototype.playBtnExists=function(){return this.options.playBtnClass},Player.prototype.playBtnGenerate=function(){var t=document.createElement("button");return t.className=this.options.playBtnClass,t.innerHTML=this.options.playBtnText,t},Player.prototype.pauseBtnExists=function(){return this.options.pauseBtnClass},Player.prototype.pauseBtnGenerate=function(){var t=document.createElement("button");return t.className=this.options.pauseBtnClass,t.innerHTML=this.options.pauseBtnText,t},Player.prototype.videoGenerate=function(){var t=document.createElement("div");return t.id=this.options.videoId,t.className=this.options.playerClass,this.options.responsive&&(t.className+=" responsive"),t},Player.prototype.videoExists=function(){return this.options.element},Player.prototype.appendVideo=function(t){if("generate"===t){if(!this.options.placement)throw"Need to specify 'placement' parameter";var e=document.querySelector(this.options.placement);e.appendChild(this.video)}},Player.prototype.assignListeners=function(){var t=e();this.video.addEventListener("click",function(e){"BUTTON"===e.target.nodeName&&(e.target[t]("."+this.options.playBtnClass)?this.player.playVideo():e.target[t]("."+this.options.pauseBtnClass)&&this.player.pauseVideo())}.bind(this));var n=new Event("video-playing",{detail:"Video Playing"}),i=new Event("video-paused",{detail:"Video Paused"}),o=new Event("video-ended",{detail:"Video Ended"});this.customEvents={playing:n,paused:i,ended:o},this.options.onStateChange&&(this.options.onStateChange.playing&&this.video.addEventListener("video-playing",this.options.onStateChange.playing.bind(this)),this.options.onStateChange.paused&&this.video.addEventListener("video-paused",this.options.onStateChange.paused.bind(this)),this.options.onStateChange.ended&&this.video.addEventListener("video-ended",this.options.onStateChange.ended.bind(this)))},Player.prototype._onPlayerReady=function(t){1===this.options.mute&&t.target.mute(),this.options._onPlayerReady&&this.options._onPlayerReady.bind(this)()},Player.prototype._onStateChange=function(t){if(this.options.onStateChange)switch(t.data){case 0:this.video.dispatchEvent(this.customEvents.ended);break;case 1:this.video.dispatchEvent(this.customEvents.playing);break;case 2:this.video.dispatchEvent(this.customEvents.paused)}};var i=function(){var t=document.querySelectorAll("[data-video-id]"),e=[];return[].slice.call(t).forEach(function(t){var n=JSON.parse(JSON.stringify(t.dataset));t.id=n.videoId,n.element=t,e.push(new Player(n))}),e};n()?i():document.addEventListener("DOMContentLoaded",i,!1)}();